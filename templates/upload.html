{% extends 'layout.html' %}
{% block body %}
<section class="is-medium">
    <div style="text-align:center; margin-top:40px">
        <img style="width: 150px;" src="./static/logo.png">
    </div>
    <div class="container is-large" style="width:100%; display:flex; flex-direction: column; justify-content:center;align-items: center; margin-top: 0px;">
        <p class="subtitle">
        <div style="background-color: rgb(197, 243, 230); padding-bottom: 10px; padding-top: 10px; width: 90%; border-radius: 15px;">
            <ul style="margin-left:10px">
                <li><strong>Note 1:</strong> 请上传横拍图片.
                <li><strong>Note 2:</strong> 图片上传后会被压缩为640×480，生成的深度图也是此分辨率.
                <li><strong>Note 3:</strong> 检测结果将显示在此页面，请稍等. 
                <li><strong>Note 4:</strong> 模型加载到web端需要一定时间，请您耐心等待.
            </ul>
        </div>
        </p><p>&nbsp;</p>
    </div>

    <div class="container is-large" style=" margin-bottom:15px; width:100%; display:flex; flex-direction: column;">
        <div class="control" style="width:100%">
            <form action="/predication" method="post" enctype="multipart/form-data" style="width:100%"> 
                <div class="file" style="margin-left:5%">
                    <label class="file-label">
                    <input class="file-input" type="file" name="file">
                    <span class="file-cta" >
                        <span class="file-icon">
                            <i class="fa fa-upload"></i>
                        </span>
                        <span class="file-label" id="file-name">
                        选择图片…
                        </span>
                    </span>
                    </label>&nbsp;&nbsp;
                    <input type=submit class="button is-primary" value="提交"/>
                </div>
            </form>

            {% with messages = get_flashed_messages() %}
            {% if messages %}
            <div class="container" style="margin-top:15px; width:90%;">
                <div class="notification is-warning">
                    <ul class=flashes>
                    {% for message in messages %}
                    <li>{{ message }}</li>
                    {% endfor %}
                    </ul>
                </div>
            </div>
            {% endif %}
            {% endwith %}
        </div>
        <!-- <div style="width:100%; margin-left: 5%; margin-top: 4%;">
            <input type="button" class="button is-primary"  value="返回主页" onclick="javascrtpt:window.location.href='{{ home_ip }}'" />
        </div> -->
    </div>
</section>
<script>
    var file = document.getElementsByName('file')[0];
    file.onchange = function() {
        if (file.files.length > 0) {
            document.getElementById('file-name').innerHTML = file.files[0].name;
        }
    };
</script>
<style>
    body{
        height: 100%;
        width: 100%;
        margin-top: 0;
        padding-top: 0;
        background-repeat: no-repeat;
        background-attachment: fixed;
        background-size: 100% 100%;
    }
    .footer_1{
        position: fixed;
        bottom: 32px;
    }
</style>
{% endblock %}